---
title: Pact Specification
---

## Introduction

The [Pact Specification](https://github.com/pact-foundation/pact-specification) is a document that governs the structure of the actual generated contracts (pact files), and also as a test suite for matching logic, to allow for interoperability between languages such as Node and Java. It is versioned to indicate breaking changes and new features introduced that previous versions do not support.

The version of the specification required to verify a pact, is written into the pact file itself (under the key `metadata.pactSpecification.version`). 

Each language implementation of Pact needs to implement the rules of this specification, and advertise which version\(s\) are supported, corresponding closely to which features are available.

## Language Compatibility 

A Provider using a language that can support a particular version of the Pact specification, can interoperate with Consumers with all previous versions, up to and including, the same as that of the Provider. 

The reverse is not true. That is, for two languages to use Pact effectively, they must both be able to understand the specification version of the pact generated by the Consumer. 

The following compatibility matrix illustrates this point, by showing what can be tested given the version of the specification a given client language can support:

| **Consumer Spec Version ðŸ‘‰** | 1 | 1.1 | 2 | 3 | 4  |
| ------------------------|---|-----|---|---|----|
| **Provider Spec Version ðŸ‘‡** | | | |
| 1                       | âœ… |    |    |   |    |
| 1.1                     | âœ… | âœ… |    |   |    |
| 2                       | âœ… | âœ… | âœ… |    |    |
| 3                       | âœ… | âœ… | âœ… | âœ… |    |
| 4                       | âœ… | âœ… | âœ… | âœ… | âœ… |

### What if my consumer client language is incompatible with my provider client language?

If you require a feature of a latter version of the provider, you have several choices:

1. Check you have the latest provider client available to your language
1. If you don't need a feature present in a latter version of the spec, you can choose to serialise your contract in a different version. For example, if your provider supports up to v3 and your consumer supports v4 by default, you can choose to serialise a pact with version v3. Consult your language documentation for how to do this.
1. If you need a feature available in a latter version, you can verify your provider using the [Provider Verifier CLI](/implementation_guides/cli#native-binary-new) which will always support the latest version of the spec. 

## Client Language Support

The following table shows the current specification compliance for each of the supported languages:

| Implementation | v1 | v1.1 | v2 | v3 | v4 |
| --- | --- | --- | --- | --- | --- |
| [Pact-rust](https://github.com/pact-foundation/pact-reference/blob/master/rust/README.md#pact-rust) | | | | âœ… | âœ… |
| [Pact-jvm](https://github.com/pact-foundation/pact-jvm#supported-jdk-and-specification-versions) | | | 0 |âœ…| âœ…|
| [Pact-ruby](https://github.com/pact-foundation/pact-ruby#current-pact-specification-version)| || âœ… | | |
| [Pact-js](https://github.com/pact-foundation/pact-js#compatibility) | | | âœ… | âœ… | âœ…* |
| [Pact-net](https://github.com/pact-foundation/pact-net#compatibility) | | | âœ… | âœ… | âœ…* |
| [Pact-python](https://github.com/pact-foundation/pact-python#pact-python) | | | âœ… | | |
| [Pact-php](https://github.com/pact-foundation/pact-php#specifications) | | | âœ… | | |
| [Pact-go](https://github.com/pact-foundation/pact-go/tree/2.x.x#compatibility) | | | âœ… | âœ… | âœ…* |
| [Pact-C++](https://github.com/pact-foundation/pact-cplusplus/tree/master/consumer) | | | âœ… | âœ… | |
| scala ([scala-pact](https://github.com/ITV/scala-pact#latest-version-is-440)) | | | âœ… | | |
| scala ([pact4s](https://github.com/jbwheatley/pact4s#getting-started)) | | | | âœ… | âœ…* |
| swift ([pact-consumer-swift](https://github.com/DiUS/pact-consumer-swift)) | | | âœ… | | |
| swift ([pact-swift](https://github.com/surpher/PactSwift)) | | | | âœ… | |

* âœ… - Implemented and actively supported
* âœ…* - Implemented in beta
* 0 - Implemented and not actively supported

> All new Pact implementations should wrap the Rust implementation using FFI calls, to allow us to roll out new features quickly and consistently across our 10+ Pact languages.
>
> Support is appreciated if you wish to contribute in migrating a language from the Ruby to Rust core, or wish to create a new language implementation
>

## The Specification
### Pact Specificaton Philosophy

The Pact matching rules follow Postel's Law.

Be as strict as we reasonably can with what we send out (requests).

We should know and be able to control exactly what a consumer is sending out. Information should not be allowed to "leak" silently.

Be as loose as we reasonably can with what we accept (responses).

A provider should be able to send extra information that this particular consumer does not care about, without breaking this consumer.

When writing the matching rules, err on the side of being more strict now, because it will break fewer things to be looser later, than to get stricter later.

_Note:_ One implications of this philosophy is that you cannot verify, using pact, that a key or a header will not be present in a response. You can only verify what is.

### Migration guides

In order to faciliate the move to from v2 to v3 specification, in the respective client libraries, migration guides have been written to help to transition across.

#### Â General notes

- A migration between pact specifications, for existing published contracts, will trigger a rule [`content_that_affects_verification_results`](https://github.com/pact-foundation/pact_broker/blob/d1fd60bb52a64b555d9e3df92c432474fec4fb68/lib/pact_broker/pacts/content.rb#L99) causing a `contract_content_changed` / `contract_requiring_verification_published` [event type](https://docs.pact.io/pact_broker/advanced_topics/api_docs/webhooks#event-types) as the generated matcher rules may have changed between specifications.

#### v2 to v3

- [Pact-JS](https://github.com/pact-foundation/pact-js/blob/master/docs/migrations/9-10.md)
- [Pact-Net](https://github.com/pact-foundation/pact-net/blob/master/docs/upgrading-to-4.md)
- [Pact-Go](https://github.com/pact-foundation/pact-go/blob/2.x.x/MIGRATION.md)


